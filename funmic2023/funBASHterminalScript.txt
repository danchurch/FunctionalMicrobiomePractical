## playing around with BASH (the linux command line)



## use wget to get the latest version of the intro script (this document!)

wget https://raw.githubusercontent.com/danchurch/FunctionalMicrobiomePractical2022/main/funmic2023/funBASHterminalScript.txt

## an example remote login: Dan and his de.NBI machine (danBot):

key=/home/daniel/.ssh/funmic2023.pub
ssh -p 30500 -i $key ubuntu@129.70.51.6

## look at the storage volume:

cd /vol/danBot

## and let's learn how to get files onto and off our VM. 

fileOnVM="/vol/danBot/helloWorld.txt"
mySSHkey="/home/daniel/.ssh/funmic2023.pub"

scp -i /home/daniel/.ssh/funmic2023 -P 30500 ubuntu@129.70.51.6:$fileOnVM .


## let's get our nanopore assembly going, because this takes a very long time.

## on my computer, I do the following:


## get into the right conda environment
conda activate flye

## make a directory for our new assembly:

mkdir -p /vol/danBot/assemblies/sludge/nanopore/

## set my variables
reads=/vol/danBot/datasets/zymoMC/nanopore/ERR7287988_shortened.fastq
outdir=/vol/danBot/assemblies/sludge/nanopore/

## run it, using nohup to make sure it doesn't die when we hang up the connection
nohup flye --meta \
    --threads 25 \
    --out-dir $outdir \
    --nano-hq $reads &

